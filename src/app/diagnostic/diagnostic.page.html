<ion-content [fullscreen]="true">
  <div class="section-title">Устройства</div>

  <ion-button expand="full" shape="round" (click)="scanForDevices()" class="action-btn">
    Сканирай
  </ion-button>

  <ion-list>
    <ion-card *ngFor="let device of devices" class="custom-item" (click)="selectDevice(device)">
      <ion-card-content>
        <p class="device-name">{{ device.name || 'Без име' }}</p>
        <p class="device-id">ID: {{ device.deviceId }}</p>
      </ion-card-content>
    </ion-card>
  </ion-list>

  <div class="section-title">Въведи ID на устройството</div>

  <ion-item class="custom-input-item">
    <ion-label position="floating">ID на устройството</ion-label>
    <ion-input [(ngModel)]="deviceId" class="custom-input"></ion-input>
  </ion-item>

  <ion-button expand="full" shape="round" (click)="connectToDevice()" class="action-btn">
    Свържи се
  </ion-button>

  <ion-button expand="full" shape="round" (click)="startCommunication()" class="action-btn">
    Стартирай комуникация
  </ion-button>

  <div class="section-title" *ngIf="errors.length > 0">Намерени грешки</div>

  <ion-card *ngFor="let code of errors" class="custom-item">
    <ion-card-content>
      <p><strong>Код:</strong> {{ code }}</p>
    </ion-card-content>
  </ion-card>

  <ion-button expand="full" shape="round" color="danger" (click)="disconnect()" class="action-btn">
    Прекъсни връзката
  </ion-button>
</ion-content>